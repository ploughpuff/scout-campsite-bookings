<!-- templates/base.html -->
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>
    {% block title %}
    Riffhams Bookings
    {% endblock %}
  </title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-SgOJa3DmI69IUzQ2PVdRZhwQ+dy64/BUtbMJw1MZ8t5HZApcHrRKUc4W0kG879m7" crossorigin="anonymous" />
  <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}" />
</head>

<body class="{% block body_class %}{% endblock %}">

  {% with messages=get_flashed_messages(with_categories=true) %}
  {% if messages %}
  <div class="container py-5">
    <div class="mb-4">
      {% for category, message in messages %}
      <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}
  {% endwith %}

  <header class="container py-4">
    <h1 class="display-4 text-center mb-4">ðŸ“… Riffhams Bookings Manager</h1>
  </header>

  {% set current = request.endpoint %}
  <div class="container mb-4">
    <div class="d-flex gap-2 justify-content-center flex-wrap">
      <a href="{{ url_for('all_bookings') }}"
        class="btn {% if current == 'all_bookings' %}btn-primary{% else %}btn-secondary{% endif %}">
        All Bookings
      </a>

      <a href="{{ url_for('pull_now') }}"
        class="btn {% if current == 'pull_now' %}btn-primary{% else %}btn-secondary{% endif %}">
        Pull Now
      </a>

      <a href="{{ url_for('view_logs') }}"
        class="btn {% if current == 'view_logs' %}btn-primary{% else %}btn-secondary{% endif %}">
        View Log
      </a>

      <a href="{{ url_for('edit_email_body') }}"
        class="btn {% if current == 'edit_email_body' %}btn-primary{% else %}btn-secondary{% endif %}">
        Edit Email Body
      </a>

      <a href="{{ url_for('reload_json') }}"
        class="btn {% if current == 'reload_json' %}btn-primary{% else %}btn-secondary{% endif %}">
        Reload JSON
      </a>
    </div>
  </div>

  <main class="container">
    {% block content %}
    {% endblock %}
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-k6d4wzSIapyDyv1kpU366/PK5hCdSbCRGRCMv+eplOQJWyd1fbcAu9OCUj5zNLiq"
    crossorigin="anonymous"></script>
  <script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>

</html>