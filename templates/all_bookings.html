{% extends 'base.html' %}

{% block content %}
<div class="text-center text-muted mb-3">
  Bookings Last Retrieved: <strong>{{ age }}</strong>
</div>

<div class="card shadow-sm rounded-4">
  <div class="card-body p-0">
    <div class="table-responsive w-auto mx-auto">
      <table class="table table-striped table-bordered align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Group</th>
            <th>Leader</th>
            <th>Arriving</th>
            <th>Departing</th>
            <th>Number</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for rec in list %}
          <tr>
            <td>
              <a href="{{ url_for('booking_detail', booking_id=rec.booking.id) }}"
                class="text-decoration-none fw-semibold">{{ rec.booking.id }}</a>
            </td>
            <td>{{ rec.booking.group_name }}</td>
            <td>{{ rec.leader.name }}</td>
            <td>{{ rec.booking.arriving|pretty_date }}</td>
            <td>{{ rec.booking.departing|pretty_date }}</td>
            <td>{{ rec.booking.group_size }}</td>
            <td>
              <span class="badge badge-status {{ rec.tracking.status|lower }}">{{ rec.tracking.status }}</span>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}