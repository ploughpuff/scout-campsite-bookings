{% extends 'base.html' %}

{% block content %}
<div class="text-center text-muted mb-3">
  Bookings Last Retrieved: <strong>{{ age }}</strong>
</div>

<div class="card shadow-sm rounded-4">
  <div class="card-body p-0">
    <div class="table-responsive w-auto mx-auto">
      <table class="table table-striped table-bordered align-middle mb-0">
        <thead class="table-light">
          <tr>
            <th>ID</th>
            <th>Group</th>
            <th>Leader</th>
            <th>Arriving</th>
            <th>Departing</th>
            <th>Number</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody>
          {% for booking in bookings %}
          <tr>
            <td>
              <a href="{{ url_for('booking_detail', booking_id=booking.site.id) }}"
                class="text-decoration-none fw-semibold">{{ booking.site.id }}</a>
            </td>
            <td>{{ booking.site.group_name }}</td>
            <td>{{ booking.leader.name }}</td>
            <td>{{ booking.site.arriving|pretty_date }}</td>
            <td>{{ booking.site.departing|pretty_date }}</td>
            <td>{{ booking.site.group_size }}</td>
            <td>
              <span class="badge badge-status {{ booking.site.status|lower }}">{{ booking.site.status }}</span>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}